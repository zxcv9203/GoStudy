# 세미 콜론 

C언어처럼, Go의 정식 문법은 구문을 종료하기 위해 세미 콜론을 사용한다. 하지만 Go에서는 C언어와는 달리 세미콜론을 소스코드에 명시하지 않아도 코드를 컴파일할 수 있다.

대신 구문분석기(lexer)에서 간단한 규칙을 통해 스캔을 하는 과정 중 자동으로 세미콜론을 삽입한다. 그래서 소스코드 작성시 대부분 세미콜론을 사용하지 않는다.

규칙은 다음과 같다. 만약 새로운 라인 앞의 마지막 토큰이 (int나 float64와 같은 단어를 포함한) 식별자이거나, 숫자, 문자열과 같은 리터럴, 혹은 다음의 토큰들 중 하나일 경우에 구문 분석기는 항상 토큰 다음에 세미콜론을 추가한다.

```
break continue fallthorough return ++ -- ) }
```

즉, 만약 구문을 끝낼 수 있는 토큰 뒤에 새로운 라인이 오면, 세미 콜론을 삽입하라는 것이다.

세미 콜론은 닫는 중괄호 `}` 바로 앞에서 생략될 수 있다.

예를 들어 다음 구문은 세미콜론이 필요하지 않다.

```go
go func() { for { dst <- <-src } }()
```

Go 프로그램에서는 세미콜론을 for loop 구문에서 변수 초기화와 조건, 그리고 진행 변수를 구분할 때만 사용한다. 또한 세미콜론은 한 라인에서 여러 문장을 구분하려면 필요하다.

세미콜론과 관련된, go 문법 중 하나로 제어문(if, for, switch 혹은 select)의 여는 중괄호 `{`를 다음 라인에 사용해서는 안된다는 것이 있다. 만약 그렇게 사용이 된다면, 세미콜론이 중괄호 앞에 삽입되는 것으로 예상하지 못한 영향이 발생할 것이다.

```go
// 잘못된 구문
if i < f()
{
    g()
}
```

```go
// 올바른 구문
if i < f() {
    g()
}
```